var NARASIX=NARASIX||{};!function(e){"use strict";var t=e(window),n=e(document);NARASIX.Utility={getBackendVar:function(e){if(void 0===window.narasixVar)return"";if(1==arguments.length)return window.narasixVar[e];var t=arguments[1];return window.narasixVar[e][t]}},NARASIX.documentOnReady={init:function(){NARASIX.documentOnReady.modalGlobal(),NARASIX.documentOnReady.ajaxLoadPosts(),NARASIX.documentOnReady.backToTop.init(),NARASIX.documentOnReady.heroPostSliderG(),NARASIX.documentOnReady.galleryCarousel(),NARASIX.documentOnReady.lightbox(),NARASIX.documentOnReady.heroPostSliderF(),NARASIX.documentOnReady.searchModalAutoFocus(),NARASIX.documentOnReady.navbarSubMenuToggle(),NARASIX.documentOnReady.offCanvasMenu(),NARASIX.documentOnReady.blockPostCarouselA(),NARASIX.documentOnReady.blockPostCarouselB(),NARASIX.documentOnReady.socialShare(),NARASIX.documentOnReady.horizonScroll(),NARASIX.documentOnReady.blockPostD(),NARASIX.documentOnReady.navMenuActive(),NARASIX.documentOnReady.widgetSlider(),NARASIX.documentOnReady.darkMode(),NARASIX.documentOnReady.headerStickyMobile(),NARASIX.documentOnReady.commentHelper(),NARASIX.documentOnReady.headerSticky.init({fixedHeader:".js-sticky-header",headerPlaceHolder:".js-sticky-header-holder"}),NARASIX.documentOnReady.stickySidebar(),NARASIX.documentOnScroll.init()},modalGlobal:function(){e(document).ready(function(){e(".modal-open").click(function(){var t=e(this).attr("data-modal");e(".modal").removeClass("active"),e(".overlay").addClass("active"),e(t).addClass("active fade-in"),e("body").addClass("overflow-hidden")}),e(".overlay, .closemodal").click(function(){e(".overlay").removeClass("active"),e(".modal").removeClass("active fade-in"),e("body").removeClass("overflow-hidden")}),e(document).keydown(function(t){27===t.keyCode&&(e(".overlay").removeClass("active"),e(".modal").removeClass("active fade-in"),e("body").removeClass("overflow-hidden"))})})},ajaxLoadPosts:function(){var t=e(".js-nsix-ajax-load-more"),n=NARASIX.Utility.getBackendVar("ajaxURL"),i=NARASIX.Utility.getBackendVar("ajaxLoadPost","loadMoreText"),o=NARASIX.Utility.getBackendVar("ajaxLoadPost","loadingText"),a=NARASIX.Utility.getBackendVar("ajaxLoadPost","noMoreText");function s(e){return e.currentPage++,e.offset+=e.postsPerPage,e.query=e.query.replace(/\boffset=(\d+)/,"offset="+e.offset),e}function r(e,t){switch(t){case"nomore":e.removeClass("is-active"),e.addClass("disabled"),e.find(".load-more-btn-text").text(a);break;case"loading":e.removeClass("is-active"),e.addClass("is-loading"),e.find(".load-more-btn-text").text(o);break;default:e.removeClass("is-loading"),e.addClass("is-active"),e.find(".load-more-btn-text").text(i)}}t.each(function(){var t=e(this),i=t.find(".js-nsix-ajax-content"),o=t.find(".js-ajax-load-posts-btn"),a=t.data("query"),l=void 0!==t.data("offset")?t.data("offset"):null,d=void 0!==t.data("posts-per-page")?t.data("posts-per-page"):null,c=t.data("currentPage"),u=void 0!==t.data("max-pages")?t.data("max-pages"):null,p=void 0!==t.data("ignore-sticky-posts")?t.data("ignore-sticky-posts"):null,f=void 0!==t.data("layout")?t.data("layout"):null,h=void 0!==t.data("columns")?t.data("columns"):null,v=void 0!==t.data("post-template")?t.data("post-template"):null,m=void 0!==t.data("hero-post-template")?t.data("hero-post-template"):null,g=void 0!==t.data("post-format-icon")?t.data("post-format-icon"):null,w=void 0!==t.data("excerpt-length")?t.data("excerpt-length"):null,$=void 0!==t.data("excerpt-length-hero")?t.data("excerpt-length-hero"):null,y=void 0!==t.data("post-meta-author")?t.data("post-meta-author"):null,b=void 0!==t.data("post-meta-date")?t.data("post-meta-date"):null,A={block:t,postsContainer:i,ajaxLoadBtn:o,query:a,offset:l,postsPerPage:d,currentPage:c,maxPages:u,ignoreStickyPosts:p,layout:f,columns:h,postTemplate:v,postHeroTemplate:m,postFormatIcon:g,excerptLength:w,excerptLengthHero:$,postMetaAuthor:y,postMetaDate:b};A=s(A),o.on("click",function(){var t,i,a;o.hasClass("is-active")&&(r(o,"loading"),i=(t=A).ajaxLoadBtn,(a=e.ajax({url:n,type:"post",dataType:"text",data:{action:"ajax_load_post",query:t.query,postsPerPage:t.postsPerPage,currentPage:t.currentPage,ignoreStickyPosts:t.ignoreStickyPosts,layout:t.layout,columns:t.columns,postTemplate:t.postTemplate,postHeroTemplate:t.postHeroTemplate,postFormatIcon:t.postFormatIcon,excerptLength:t.excerptLength,excerptLengthHero:t.excerptLengthHero,postMetaAuthor:t.postMetaAuthor,postMetaDate:t.postMetaDate}})).done(function(n){var o,a,l,d,c;o=n,a=t,l=e(o),d=a.postsContainer,c=a.ajaxLoadBtn,l&&(l.appendTo(d).css("opacity",0).animate({opacity:1},500),r(c,"ready")),function e(t){t.block.attr("data-current-page",t.currentPage-1)}(t=s(t)),t.currentPage>t.maxPages&&(r(i,"nomore"),i.off("click"))}),a.fail(function(){console.log("AJAX failed")}))})})},galleryCarousel:function(){new Swiper(".js-nsix-gallery-carousel",{slidesPerView:"auto",spaceBetween:18,freeMode:!0,scrollbar:{el:".swiper-scrollbar"}})},lightbox:function(){e(".pswp").length||e(".content-single").append('<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"> <div class="pswp__bg"></div><div class="pswp__scroll-wrap"> <div class="pswp__container"> <div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"> <div class="pswp__top-bar"> <div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class="pswp__preloader"> <div class="pswp__preloader__icn"> <div class="pswp__preloader__cut"> <div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"> <div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"> </button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"> </button> <div class="pswp__caption"> <div class="pswp__caption__center"></div></div></div></div></div>'),document.querySelectorAll(".pswp")[0],!function(e){for(var t=function(e){for(var t,n,i,o,a=e.childNodes,s=a.length,r=[],l=0;l<s;l++)1===(t=a[l]).nodeType&&(i=(n=t.children[0]).getAttribute("data-size").split("x"),o={src:n.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10)},t.children.length>1&&(o.title=t.children[1].innerHTML),n.children.length>0&&(o.msrc=n.children[0].getAttribute("src")),o.el=t,r.push(o));return r},n=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))}(e.target||e.srcElement,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(t){for(var n,o=t.parentNode,a=t.parentNode.childNodes,s=a.length,r=0,l=0;l<s;l++)if(1===a[l].nodeType){if(a[l]===t){n=r;break}r++}return n>=0&&i(n,o),!1}},i=function(e,n,i,o){var a,s,r,l=document.querySelectorAll(".pswp")[0];if(r=t(n),s={galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=r[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}},showHideOpacity:!0},o){if(s.galleryPIDs){for(var d=0;d<r.length;d++)if(r[d].pid==e){s.index=d;break}}else s.index=parseInt(e,10)-1}else s.index=parseInt(e,10);!isNaN(s.index)&&(i&&(s.showAnimationDuration=0),(a=new PhotoSwipe(l,PhotoSwipeUI_Default,r,s)).init())},o=document.querySelectorAll(e),a=0,s=o.length;a<s;a++)o[a].setAttribute("data-pswp-uid",a+1),o[a].onclick=n;var r=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++){if(n[i]){var o=n[i].split("=");!(o.length<2)&&(t[o[0]]=o[1])}}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();r.pid&&r.gid&&i(r.pid,o[r.gid-1],!0,!0)}(".js-nsix-lightbox-gallery")},heroPostSliderF:function(){"function"==typeof Swiper&&e(".js-hero-post-slider-f").each(function(e,t){new Swiper(t,{speed:300,parallax:!0,preventClicks:!0,direction:"horizontal",loop:!0,effect:"slide",spaceBetween:15,centeredSlides:!0,slidesOffsetBefore:0,grabCursor:!0,breakpoints:{320:{slidesPerView:1.2,spaceBetween:10},640:{slidesPerView:1.6}}}).init()})},heroPostSliderG:function(){e.isFunction(e.fn.slick)&&e(".js-hero-post-slider-g").each(function(t,n){var i=e(n),o=i.siblings(".js-hero-post-slider-nav"),a=i.siblings(".js-hero-post-slider-nav").find(".slider-navigation-item");a.length;var s=!0==i.data("autoplay"),r=parseInt(i.data("speed"));r||(r=6e3),i.slick({slidesToShow:1,arrows:!1,autoplay:s,autoplaySpeed:r,pauseOnHover:!1,fade:!0,speed:400,cssEase:"ease-in",waitForAnimate:!0,adaptiveHeight:!0}),o.on("click",".slider-navigation-item",function(){var t=e(this).index();i.slick("slickGoTo",t)}),i.on("beforeChange",function(e,t,n,i){a.eq(n);var o=a.eq(i);a.removeClass("is-active"),o.addClass("is-active")})})},blockPostCarouselA:function(){"function"==typeof Swiper&&e(".js-post-carousel-a").each(function(t,n){var i,o,a=e(n),s=a.siblings(".i_nav").find(".nsix-carousel-pagination-current"),r=a.siblings(".i_nav").find(".nsix-carousel-pagination-total"),l=a.siblings(".i_nav").find(".nsix-carousel-prev-btn"),d=a.siblings(".i_nav").find(".nsix-carousel-next-btn"),l=a.siblings(".i_nav").find(".nsix-carousel-prev-btn"),c={init:!1,slidesPerView:"auto",spaceBetween:20,watchOverflow:!0,freeMode:!0,grabCursor:!0,pagination:{el:".nsix-carousel-hidden-pagination",type:"fraction"}};a.hasClass("nsix-carousel-auto-width")||(c.slidesPerView=1.45,c.breakpoints={576:{slidesPerView:2.45},768:{slidesPerView:3.45},992:{slidesPerView:4.45},1200:{slidesPerView:4.45}});var u=new Swiper(n,c);u.once("init",function(){i=a.find(".nsix-carousel-hidden-pagination .swiper-pagination-current"),o=a.find(".nsix-carousel-hidden-pagination .swiper-pagination-total"),r.text(o.text())}),u.init(),u.on("slideChange",function(){s.text(i.text())}),u.on("resize",function(){i=a.find(".nsix-carousel-hidden-pagination .swiper-pagination-current"),o=a.find(".nsix-carousel-hidden-pagination .swiper-pagination-total"),s.text(i.text()),r.text(o.text())}),l.on("click",function(e){u.slidePrev()}),d.on("click",function(e){u.slideNext()})})},blockPostCarouselB:function(){"function"==typeof Swiper&&e(".js-post-carousel-b").each(function(t,n){var i=e(n),o={init:!1,slidesPerView:"auto",spaceBetween:20,watchOverflow:!0,freeMode:!0,grabCursor:!0,navigation:{nextEl:".button--next",prevEl:".button--prev"}};i.hasClass("nsix-carousel-auto-width")||(o.slidesPerView=1.45,o.breakpoints={768:{slidesPerView:2.45},992:{slidesPerView:3.45},1200:{slidesPerView:4.45}}),new Swiper(n,o).init()})},offCanvasMenu:function(){var t=e('<div class="nsix-offcanvas-backdrop"></div>'),n=e(".js-nsix-offcanvas"),i=e(".js-nsix-offcanvas-toggle"),o=e(".js-nsix-offcanvas-close"),a=e(".nsix-offcanvas .offcanvas-navigation li.menu-item-has-children");function s(){n.removeClass("is-active"),e("body").removeClass("overflow-hidden"),t.removeClass("is-shown"),setTimeout(function(){t.detach()},300)}t.on("click",function(){s()}),i.on("click",function(n){n.preventDefault();var i=e(this).attr("href");e(i).toggleClass("is-active"),e("body").addClass("overflow-hidden"),t.appendTo(document.body),setTimeout(function(){t.addClass("is-shown")},1)}),o.on("click",function(e){e.preventDefault(),s()}),a.each(function(){var t=e(this);t.on("click","a, li",function(t){"#"===e(t.target).attr("href")?t.preventDefault():t.stopPropagation()}),t.on("click",function(){t.toggleClass("is-sub-menu-opened")})})},searchModalAutoFocus:function(){var t=e("#nsix-search-modal");t.on("shown.bs.modal",function(){t.find(".search-field").focus()}),e("input[name=s]").keyup(function(){var t;(t=e("input[name=s]").val())?(e("#search-results").html('<div class="w-full grid justify-center h-44 content-center"><svg class="-ml-1 mr-3 h-5 w-5 animate-spin" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"/></svg></div>'),e.ajax({url:"<?php echo home_url( "/" ); ?>",data:{s:t,action:"search"},type:"GET",dataType:"html",success:function(t){e("#search-results").html(t)}})):e("#search-results").html("")})},navbarSubMenuToggle:function(){var t=e(".site-header-navigation li.menu-item-has-children");t.on("click",function(){e(this).children(".sub-menu").slideToggle(200)}),t.on("click","a, li",function(e){e.stopPropagation()})},headerSticky:{headerPlaceHolder:"",fixedHeader:"",isDisabled:!1,isFixed:!1,isShown:!1,windowScrollTop:0,lastWindowScrollTop:0,offCheckpoint:0,onCheckpoint:0,init:function i(o){this.fixedHeader=e(o.fixedHeader),this.headerPlaceHolder=e(o.headerPlaceHolder),this.fixedHeader.length&&(n.ready(function(){NARASIX.documentOnReady.headerSticky.fixedHeader.css("display","block"),NARASIX.documentOnReady.headerSticky.compute()}),t.load(function(){NARASIX.documentOnReady.headerSticky.compute(),NARASIX.documentOnReady.headerSticky.updateState()}))},compute:function n(){this.headerPlaceHolder.length?this.offCheckpoint=e(this.headerPlaceHolder).offset().top+e(this.headerPlaceHolder).outerHeight(!0)+400:this.offCheckpoint=500,this.onCheckpoint=this.offCheckpoint+500,992>t.width()?this.isDisabled=!0:(this.windowScrollTop=t.scrollTop(),this.offCheckpoint<this.windowScrollTop&&(this.isFixed=!0))},updateState:function e(){this.isFixed?this.fixedHeader.addClass("is-fixed"):this.fixedHeader.removeClass("is-fixed"),this.isShown?this.fixedHeader.addClass("is-shown"):this.fixedHeader.removeClass("is-shown")},eventScroll:function e(t){var n="",i=0;!this.isDisabled&&t!=this.lastWindowScrollTop&&(n=t>this.lastWindowScrollTop?"down":"up",i=Math.abs(t-this.lastWindowScrollTop),this.lastWindowScrollTop=t,this.offCheckpoint<t?this.isFixed=!0:this.isFixed=!1,this.isFixed?"down"==n&&i>14?this.isShown&&(this.isShown=!1):!this.isShown&&i>14&&this.onCheckpoint<t&&(this.isShown=!0):this.isShown=!1,this.updateState())},eventResize:function e(t){t>=992?(this.isDisabled=!1,this.fixedHeader.addClass("is-shown")):(this.isDisabled=!0,this.fixedHeader.removeClass("is-shown"))}},headerStickyMobile:function(){var e=0,t=!1,n=document.querySelector(".header-mobile-sticky");window.addEventListener("scroll",function(){if(n){var i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=i<e,a=t&&o;t=i>100,n.classList.toggle("sticky-active",a),e=i}})},stickySidebar:function(){if(e.isFunction(e.fn.theiaStickySidebar)){var t=NARASIX.Utility.getBackendVar("stickySidebarMarginTop");jQuery(".js-nsix-sticky-sidebar").theiaStickySidebar({additionalMarginTop:t,additionalMarginBottom:20})}},socialShare:function(){new Swiper("#scroll-share",{direction:"horizontal",slidesPerView:"auto",freeMode:!0,scrollbar:{el:".swiper-scrollbar"},mousewheel:!0}),e(".swiper-scrollbar").show()},blockPostD:function(){"function"==typeof Swiper&&(window.innerWidth<1200?new Swiper(".swiper-block_post_d",{direction:"horizontal",slidesPerView:1,paginationClickable:!0,spaceBetween:0,autoplay:2500,grabCursor:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"}}):new Swiper(".swiper-block_post_d",{direction:"horizontal",slidesPerView:1,parallax:!0,paginationClickable:!0,spaceBetween:0,speed:1500,autoplay:2500,grabCursor:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"}}))},horizonScroll:function(){let e=document.querySelectorAll(".scrolling-wrapper");e.forEach(e=>{let t=!1,n,i;e.addEventListener("mousedown",o=>{let a=e.getBoundingClientRect();t=!0,e.classList.add("active"),n=o.pageX-a.left,i=e.scrollLeft,console.log(n,i)}),e.addEventListener("mouseleave",()=>{t=!1,e.dataset.dragging=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{t=!1,e.dataset.dragging=!1,e.classList.remove("active")}),e.addEventListener("mousemove",o=>{if(!t)return;let a=e.getBoundingClientRect();o.preventDefault(),e.dataset.dragging=!0;let s=o.pageX-a.left,r=s-n;e.scrollLeft=i-r,console.log(s,r,e.scrollLeft)})})},navMenuActive:function(){var e=window.location.href;document.querySelectorAll(".navigation .menu-item a").forEach(function(t){t.href===e?t.parentElement.classList.add("active"):t.parentElement.classList.remove("active")})},widgetSlider:function(){"function"==typeof Swiper&&new Swiper(".widget-slider",{spaceBetween:10,pagination:{el:".swiper-pagination",clickable:!0}})},backToTop:{backTopBtn:null,init:function(){this.backTopBtn=e(".js-nsix-back-top-btn"),this.backTopBtn.length&&this.backTopBtn.on("click",function(){e("html, body").animate({scrollTop:0},{duration:200,easing:"swing"})})},eventScroll:function e(n){n>t.height()?this.backTopBtn.addClass("is-shown"):this.backTopBtn.removeClass("is-shown")}},darkMode:function(){var e=document.querySelector(".icons");"dark"===localStorage.theme?(document.documentElement.classList.add("dark"),e.classList.remove("icon-sun"),e.classList.add("icon-moon")):(document.documentElement.classList.remove("dark"),e.classList.remove("icon-moon"),e.classList.add("icon-sun"))},toggleDarkMode:function(){var e=document.querySelector(".icons");document.documentElement.classList.contains("dark")?(e.classList.remove("icon-sun"),e.classList.add("icon-moon"),document.documentElement.classList.remove("dark"),localStorage.theme="light"):(e.classList.remove("icon-moon"),e.classList.add("icon-sun"),document.documentElement.classList.add("dark"),localStorage.theme="dark")},commentHelper:function(){jQuery(document).ready(function(e){e("#commentform").length&&(e("#commentform").validate({onfocusout:function(e){this.element(e)},rules:{author:{required:!0,normalizer:function(t){return e.trim(t)}},email:{required:!0,email:!0}},messages:{author:"*Name require.",email:"*Email require."},errorElement:"small",errorPlacement:function(e,t){t.before(e)}}),jQuery(document).ready(function(e){for(var t=document.querySelectorAll(".comment-reply-link"),n=document.querySelectorAll(".remove"),i=0;i<t.length;i++)t[i].addEventListener("click",function(){document.querySelector("div#respond").classList.add("comment-reply-m")});for(var i=0;i<n.length;i++)n[i].addEventListener("click",function(){document.querySelector("div#respond").classList.remove("comment-reply-m")})}))})}},NARASIX.documentOnScroll={ticking:!1,windowScrollTop:0,init:function(){window.addEventListener("scroll",function(e){NARASIX.documentOnScroll.ticking||window.requestAnimationFrame(function(){NARASIX.documentOnScroll.windowScrollTop=t.scrollTop(),NARASIX.documentOnReady.backToTop.eventScroll(NARASIX.documentOnScroll.windowScrollTop),NARASIX.documentOnReady.headerSticky.eventScroll(NARASIX.documentOnScroll.windowScrollTop),NARASIX.documentOnScroll.ticking=!1}),NARASIX.documentOnScroll.ticking=!0})}},NARASIX.documentOnResize={ticking:!1,windowWidth:0,init:function(){window.addEventListener("resize",function(e){NARASIX.documentOnResize.ticking||window.requestAnimationFrame(function(){NARASIX.documentOnResize.windowWidth=t.width(),NARASIX.documentOnReady.headerSticky.eventResize(NARASIX.documentOnResize.windowWidth),NARASIX.documentOnResize.ticking=!1}),NARASIX.documentOnResize.ticking=!0})}},n.ready(NARASIX.documentOnReady.init),t.on("resize",NARASIX.documentOnResize.init)}(jQuery);